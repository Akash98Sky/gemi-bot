# Spacefile Docs: https://go.deta.dev/docs/spacefile/v0
v: 0
micros:
  - name: gemi
    src: ./
    engine: python3.9
    primary: true
    run: python3 -m main
    dev: python3 -m main
    presets:
      env:
        - name: BOT_TOKEN
          description: Telegram bot token
        - name: GOOGLE_API_KEY
          description: Google API key for using gemini

  - name: api
    src: ./
    engine: python3.9
    run: uvicorn main:api --host 0.0.0.0 --port $PORT
    dev: uvicorn main:api --host 0.0.0.0 --port $PORT
    presets:
      env:
        - name: GOOGLE_API_KEY
          description: Google API key for using gemini
